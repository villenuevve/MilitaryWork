<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–í—Ö—ñ–¥</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/script.js" defer></script>
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/256/2785/2785693.png" type="image/png">
</head>
<body>
    <div class="login-wrapper">
        <form method="post" action="/login" class="login-form">
            <h2>üîê –í—Ö—ñ–¥ –¥–æ —Å–∏—Å—Ç–µ–º–∏</h2>

            {% if error %}
                <div class="popup error">{{ error }}</div>
                <script>
                    setTimeout(() => {
                        const popup = document.querySelector(".popup.error");
                        if (popup) popup.style.opacity = "0";
                    }, 3000);
                </script>
            {% endif %}

            <div class="form-group">
                <label for="username">üë§ –Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</label>
                <input type="text" id="username" name="username" required>
            </div>

            <div class="form-group">
                <label for="password">üîë –ü–∞—Ä–æ–ª—å</label>
                <div class="password-wrapper">
                    <input type="password" id="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" />
                    <span class="toggle-password" onclick="togglePassword()">üëÅÔ∏è</span>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit">–£–≤—ñ–π—Ç–∏</button>
            </div>
            <p class="form-note">–ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É? <a href="/register">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</a></p>            
        </form>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        if (params.get("success") === "1") {
            const popup = document.createElement("div");
            popup.className = "popup";
            popup.textContent = "‚úÖ –£—Å–ø—ñ—à–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è!";
            popup.style.backgroundColor = "#22c55e"; // –ó–µ–ª–µ–Ω–∏–π —Ñ–æ–Ω
    
            document.body.appendChild(popup);
    
            setTimeout(() => {
                popup.style.opacity = "0";
                setTimeout(() => popup.remove(), 1000);
            }, 3000);
        }
    </script>
</body>
</html>
